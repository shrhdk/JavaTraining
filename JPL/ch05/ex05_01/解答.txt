Q. AttrクラスとAttributedインタフェースの包含関係

A. Attributedインタフェースの中にAttrクラスを定義するべきである。

AttrクラスはAttributedインタフェースを実装するクラスに共通して必要なクラスである。
Attributedインタフェースの中にAttrクラスを定義することで必要性が明確になる。

ただし、Attrクラスが汎用的なクラスであると仮定する場合は、
Attributedインタフェースの外にAttrを定義することも考えられる。
しかし、Attrの中にAttributedインタフェースを定義することは、
Attrクラスの意味を歪めることになるため、考えられない。

この仮定をよりわかりやすい例で説明する。

例えば、任意の点を表すPointクラスと、
回転中心を持っているという意味のhasRotationCenterインタフェースがある場合を考える。
任意の点を表すクラスというのは汎用的なものであり、標準ライブラリに定義されている可能性が高いため、
hasRotationCenterの中に改めてPointクラスを定義するのは有意義でない。
